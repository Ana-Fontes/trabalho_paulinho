<!DOCTYPE html>
<html lang="br">
<head>
    <meta charset="UTF-8">
    <title>Lista de Tarefas</title>
</head>
<body>
    <p>Adicione sua tarefa</p>
    <input id="entrada" type="text" value="teste"/>
    <button onclick="salvarDados()">Salvar</button> 
    
    <br>
    <p>Tarefas a fazer</p>
    <div id="editar"></div>

    <div> 
         <ul id="resultado"></ul>   
    </div>
    
    <script>
        let listaDeTarefas = []; 
        let index = 0;

        function salvarDados() {
            let entrada = document.getElementById("entrada").value;
            let entradaObj = {
                id: index,      
                texto: entrada
            };
            index++;
            listaDeTarefas.push(entradaObj); 
            mostrar();
        }

        function mostrar(){
            let ul = document.getElementById("resultado");
            let html = ""; 
            listaDeTarefas.forEach(elemento => {
                html += `<li> 
                    ${elemento.texto}    
                    <button onclick="editar(${elemento.id})">
                        Editar
                    </button>
                    <button onclick="deletar(${elemento.id})">
                        Deletar
                    </button> 
                </li>`;
            });

            ul.innerHTML = html;
        }

        function editar(id) {
            let resultado = listaDeTarefas.find(obj => obj.id === id);
            
            let html = `
                <input type="text" id="textoParaEditar" value="${resultado.texto}">
                <button onclick="editarDados(${id})">Salvar edição</button>
            `; 
            
            let diveditar = document.getElementById("editar");
            diveditar.innerHTML = html;    

            console.log("Editando tarefa:", resultado);
        }

        function editarDados(id){ 
            let textoParaEditar = document.getElementById("textoParaEditar").value;
            let resultado = listaDeTarefas.find(obj => obj.id === id);
            resultado.texto = textoParaEditar; 
            
            document.getElementById("editar").innerHTML = ""; // limpa área de edição
            mostrar();
        }
        
        function deletar(id) {
            listaDeTarefas = listaDeTarefas.filter(obj => obj.id !== id);
            mostrar();
        }
    </script>
</body>
</html>
